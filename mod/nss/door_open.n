extern("inc_doors")

void main() {
	object oDoor = OBJECT_SELF;
	object oPC = GetLastOpenedBy();

	int nAutoClose = GetLocalInt(oDoor, "autoclose");
	int nAutoLock = GetLocalInt(oDoor, "autolock");

	if (nAutoClose) {
		if (nAutoLock) {
			ActionAutoCloseLock(nAutoClose <= 0 ? 60 : nAutoClose);
		} else {
			ActionAutoClose(nAutoClose <= 0 ? 60 : nAutoClose);
		}
	}

	if (d10() == 1) {
		SetName(OBJECT_SELF, "");
		SpeakString("*crrrk*");
	}
}
